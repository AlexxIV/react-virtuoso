{"version":3,"sources":["webpack:///./src/examples/PressToLoadMore.js","webpack:///./src/pages/press-to-load-more.js","webpack:///./src/examples/FakeData.js"],"names":["GenerateItem","index","react_default","a","createElement","ExampleComponents","user","getUser","PressToLoadMore","_useState","useState","total","setTotal","items","useRef","_useState2","loading","setLoading","loadMore","useCallback","setTimeout","current","concat","length","useEffect","react_virtuoso_es_production","style","width","height","totalCount","item","footer","padding","display","justifyContent","disabled","onClick","__webpack_exports__","layout","sidebar","source","path","generated","firstName","faker","name","lastName","initials","substr","description","company","catchPhrase","bgColor","commerce","color","fgColor","longText","lorem","paragraphs","avatar","internet","generateGroupedUsers","max","users","i","push","sort","b","groupedUsers","groupBy","groupCounts","Object","values","map","groups","keys"],"mappings":"mKAUMA,EAAe,SAAAC,GACnB,OAAOC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAUC,KAAMC,YAAQN,GAAQA,MAAOA,KAGjCO,EAAA,WAAM,IAAAC,EACOC,mBAAS,GAA5BC,EADYF,EAAA,GACLG,EADKH,EAAA,GAEbI,EAAQC,iBAAO,IAFFC,EAGWL,oBAAS,GAAhCM,EAHYD,EAAA,GAGHE,EAHGF,EAAA,GASbG,EAAWC,sBAAY,WAC3BF,GAAW,GAEXG,WAAW,WACT,IAAK,IAAInB,EAAQU,EAAOV,EAAQU,EAAQA,EAAQ,GAAIV,IAClDY,EAAMQ,QAAN,GAAAC,OAAoBT,EAAMQ,QAA1B,CAAmCd,YAAQN,KAE7CgB,GAAW,GACXL,EAASC,EAAMQ,QAAQE,SACtB,MACF,IAMH,OAJAC,oBAAU,WACRN,KACC,IAGDhB,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CACEC,MAAO,CAAEC,MAAO,QAASC,OAAQ,SACjCC,WAAYlB,EACZmB,KAAM9B,EACN+B,OAAQ,WACN,OACE7B,EAAAC,EAAAC,cAAA,OACEsB,MAAO,CACLM,QAAS,OACTC,QAAS,OACTC,eAAgB,WAGlBhC,EAAAC,EAAAC,cAAA,UAAQ+B,SAAUnB,EAASoB,QAASlB,GACjCF,EAAU,aAAe,2BCjDzBqB,EAAA,0BACbnC,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAQC,QAAS,kBAAMrC,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAQC,KAAK,sBAClCvC,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,mHAIAF,EAAAC,EAAAC,cAAA,mGAIAF,EAAAC,EAAAC,cAACI,EAAD,uLCbEkC,EAAY,GAELnC,EAAU,SAAAN,GACrB,IAAKyC,EAAUzC,GAAQ,CACrB,IAAI0C,EAAYC,IAAMC,KAAKF,YACvBG,EAAWF,IAAMC,KAAKC,WAC1BJ,EAAUzC,GAAS,CACjB4C,KAASF,EAAL,IAAkBG,EACtBC,SAAQ,GAAKJ,EAAUK,OAAO,EAAG,GAAKF,EAASE,OAAO,EAAG,GACzDC,YAAaL,IAAMM,QAAQC,cAC3BC,QAASR,IAAMS,SAASC,QACxBC,QAASX,IAAMS,SAASC,QACxBE,SAAUZ,IAAMa,MAAMC,WAAW,GACjCC,OAAQf,IAAMgB,SAASD,UAG3B,OAAOjB,EAAUzC,IAGN4D,EAAuB,SAAAC,GAElC,IADA,IAAMC,EAAQ,GACLC,EAAI,EAAGA,EAAIF,EAAKE,IACvBD,EAAME,KAAK1D,EAAQyD,IAGrBD,EAAMG,KAAK,SAAC/D,EAAGgE,GACb,OAAIhE,EAAE0C,KAAOsB,EAAEtB,MACL,EAEN1C,EAAE0C,KAAOsB,EAAEtB,KACN,EAEF,IAGT,IAAMuB,EAAeC,kBAAQN,EAAO,SAAAzD,GAAI,OAAIA,EAAKuC,KAAK,KAItD,MAAO,CAAEkB,QAAOO,YAHIC,OAAOC,OAAOJ,GAAcK,IAAI,SAAAV,GAAK,OAAIA,EAAMxC,SAGtCmD,OAFdH,OAAOI,KAAKP","file":"component---src-pages-press-to-load-more-js-9280714a79a2db0f2eb1.js","sourcesContent":["import React, {\n  useState,\n  useRef,\n  useCallback,\n  useEffect,\n} from 'react'\nimport { Virtuoso } from 'react-virtuoso'\nimport { getUser } from './FakeData'\nimport { UserItem } from './ExampleComponents'\n\nconst GenerateItem = index => {\n  return <UserItem user={getUser(index)} index={index} />\n}\n\nexport default () => {\n  const [total, setTotal] = useState(0)\n  const items = useRef([])\n  const [loading, setLoading] = useState(false)\n\n  // the setTimeout below simulates a network request.\n  // In the real world, you can fetch data from a service.\n  // the setTotal call will trigger a refresh for the list,\n  // so make sure you call it last.\n  const loadMore = useCallback(() => {\n    setLoading(true)\n\n    setTimeout(() => {\n      for (let index = total; index < total + total + 20; index++) {\n        items.current = [...items.current, getUser(index)]\n      }\n      setLoading(false)\n      setTotal(items.current.length)\n    }, 500)\n  }, [])\n\n  useEffect(() => {\n    loadMore()\n  }, [])\n\n  return (\n    <Virtuoso\n      style={{ width: '350px', height: '400px' }}\n      totalCount={total}\n      item={GenerateItem}\n      footer={() => {\n        return (\n          <div\n            style={{\n              padding: '2rem',\n              display: 'flex',\n              justifyContent: 'center',\n            }}\n          >\n            <button disabled={loading} onClick={loadMore}>\n              {loading ? 'Loading...' : 'Press to load more'}\n            </button>\n          </div>\n        )\n      }}\n    />\n  )\n}\n","import React from 'react'\nimport Layout from '../components/layout'\nimport Source from '../components/source'\nimport Example from '../examples/PressToLoadMore'\n\nexport default () => (\n  <Layout sidebar={() => <Source path=\"PressToLoadMore\" />}>\n    <h2>Press to load more</h2>\n    <p>\n      The footer render property can be used to host a load more\n      button that appends more items to the list.\n    </p>\n    <p>\n      Scroll to the bottom of the list and press the load more button\n      to load 20 more items.\n    </p>\n    <Example />\n  </Layout>\n)\n","import faker from \"faker\"\nimport { groupBy } from \"lodash\"\n\nconst generated = []\n\nexport const getUser = index => {\n  if (!generated[index]) {\n    let firstName = faker.name.firstName()\n    let lastName = faker.name.lastName()\n    generated[index] = {\n      name: `${firstName} ${lastName}`,\n      initials: `${firstName.substr(0, 1)}${lastName.substr(0, 1)}`,\n      description: faker.company.catchPhrase(),\n      bgColor: faker.commerce.color(),\n      fgColor: faker.commerce.color(),\n      longText: faker.lorem.paragraphs(4),\n      avatar: faker.internet.avatar(),\n    }\n  }\n  return generated[index]\n}\n\nexport const generateGroupedUsers = max => {\n  const users = []\n  for (let i = 0; i < max; i++) {\n    users.push(getUser(i))\n  }\n\n  users.sort((a, b) => {\n    if (a.name < b.name) {\n      return -1\n    }\n    if (a.name > b.name) {\n      return 1\n    }\n    return 0\n  })\n\n  const groupedUsers = groupBy(users, user => user.name[0])\n  const groupCounts = Object.values(groupedUsers).map(users => users.length)\n  const groups = Object.keys(groupedUsers)\n\n  return { users, groupCounts, groups }\n}\n"],"sourceRoot":""}